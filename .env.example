# =============================================================================
# QA Platform FastAPI Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="QA Platform API"
APP_VERSION="2.0.0"
DEBUG=true

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_PREFIX="/api"
API_PORT=8000
API_HOST="0.0.0.0"

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL (Production)
DATABASE_URL="postgresql://qa_app:QAdbadmin_12345@qa-platform-default.cfiwiw4uqjws.me-central-1.rds.amazonaws.com:5432/qa_platform"

# SQLite (Development - easier to get started)
# DATABASE_URL="sqlite:///./qa_platform.db"

DATABASE_ECHO=false
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# =============================================================================
# KEYCLOAK AUTHENTICATION
# =============================================================================
KEYCLOAK_URL="http://localhost:8080"
KEYCLOAK_REALM="qa-default"
KEYCLOAK_CLIENT_ID="qa-platform-backend"
KEYCLOAK_CLIENT_SECRET="390301b6-0499-4f72-9ed1-3479e0a6bade"
KEYCLOAK_ADMIN_USERNAME="admin"
KEYCLOAK_ADMIN_PASSWORD="local_12345"

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_ALGORITHM="RS256"
JWT_ISSUER="http://localhost:8080/realms/qa-default"
JWT_AUDIENCE="account"

# =============================================================================
# ASSEMBLYAI TRANSCRIPTION
# =============================================================================
ASSEMBLYAI_API_KEY="your_assemblyai_api_key_here"
ASSEMBLYAI_WEBHOOK_URL="http://localhost:8000/api/webhooks/assemblyai"

# =============================================================================
# OPENAI AI SERVICES
# =============================================================================
OPENAI_API_KEY="your_openai_api_key_here"
OPENAI_MODEL="gpt-4o-mini"
OPENAI_MAX_TOKENS=4000

# =============================================================================
# FILE STORAGE
# =============================================================================
STORAGE_TYPE="local"  # Options: 'local', 's3'
STORAGE_LOCAL_PATH="./uploads"

# AWS S3 Storage (if STORAGE_TYPE=s3)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_S3_BUCKET=""
AWS_REGION="us-east-1"

# =============================================================================
# FILE UPLOAD LIMITS
# =============================================================================
MAX_FILE_SIZE=524288000  # 500MB in bytes

# =============================================================================
# CORS SETTINGS
# =============================================================================
CORS_ORIGINS="http://localhost:3000,http://localhost:5173,http://localhost:5000,http://127.0.0.1:3000,http://127.0.0.1:5173,http://127.0.0.1:5000"

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL="INFO"  # Options: DEBUG, INFO, WARNING, ERROR
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# =============================================================================
# BACKGROUND TASKS
# =============================================================================
TASK_QUEUE_NAME="qa-platform-tasks"

# =============================================================================
# SSH TUNNEL CONFIGURATION (for RDS through Bastion Host)
# =============================================================================
USE_SSH_TUNNEL=true
SSH_HOST="ec2-3-28-194-96.me-central-1.compute.amazonaws.com"
SSH_PORT=22
SSH_USERNAME="ec2-user"
SSH_KEY_PATH="./ssh/key.pem"
# SSH_PASSWORD="your-ssh-password"  # Alternative to key-based auth
SSH_LOCAL_PORT=5432
SSH_REMOTE_HOST="qa-platform-default.cfiwiw4uqjws.me-central-1.rds.amazonaws.com"
SSH_REMOTE_PORT=5432
